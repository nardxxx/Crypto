function scrollAnimation(){const e=document.querySelectorAll(".js-scroll"),r=()=>{e.forEach(e=>{((e,r=1)=>e.getBoundingClientRect().top<=(window.innerHeight||document.documentElement.clientHeight)/r)(e,1.25)?e.classList.add("scrolled"):(e=>e.getBoundingClientRect().top>(window.innerHeight||document.documentElement.clientHeight))(e)&&(e=>{e.classList.remove("scrolled")})(e)})};window.addEventListener("scroll",()=>{r()})}function sliderWithIsotope(){let e=new Swiper(".best .best__row",{direction:"horizontal",navigation:{nextEl:".best .arrR",prevEl:".best  .arrL"},spaceBetween:30,autoHeight:!0,breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2},1201:{slidesPerView:4}}});$(".best__filter button").on("click",(function(){let r=$(this).data("filter-name").toLowerCase();$(".best__filter button"),$(".best__filter button").removeClass("active"),$(this).addClass("active"),"all"==r?($(".best [data-filter]").removeClass("non-swiper-slide").addClass(".best swiper-slide").show(),e.destroy(),e=new Swiper(".best .best__row",{direction:"horizontal",navigation:{nextEl:".best .arrR",prevEl:".best  .arrL"},spaceBetween:30,autoHeight:!0,breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2},1201:{slidesPerView:4}}})):($(".best .swiper-slide").not("[data-filter='"+r+"']").addClass("non-swiper-slide").removeClass("swiper-slide").hide(10),$("[data-filter='"+r+"']").removeClass("non-swiper-slide").addClass("swiper-slide").attr("style",null).show(),e.destroy(),e=new Swiper(".best .best__row",{direction:"horizontal",slidesPerView:4,navigation:{nextEl:".best .arrR",prevEl:".best  .arrL"},spaceBetween:30,autoHeight:!0,breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2},1201:{slidesPerView:4}}}))}))}function initSliders(){new Swiper(".spec-offer__row",{direction:"horizontal",slidesPerView:2,slidesPerGroup:2,navigation:{nextEl:".spec-offer  .arrR",prevEl:".spec-offer  .arrL"},spaceBetween:10,breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2,spaceBetween:30}}}),new Swiper(".events .events__carusel",{direction:"horizontal",slidesPerView:4,loop:!0,spaceBetween:28,navigation:{nextEl:".events .arrR",prevEl:".events  .arrL"},breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2},1201:{slidesPerView:4}}});document.querySelectorAll(".vr-go__sliders .slider").forEach((e,r)=>{let s=`.vr-go__sliders .slider:nth-last-child(${r+=1})`;new Swiper(""+(s+" .slider__carusel"),{direction:"horizontal",navigation:{nextEl:s+" .arrR",prevEl:s+" .arrL"},breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2,slidesPerGroup:2}}})})}document.addEventListener("DOMContentLoaded",e=>{document.querySelector(".wrapper").classList.add("loaded"),document.querySelector(".icon-menu").addEventListener("click",e=>{e.target.closest(".icon-menu").classList.toggle("active"),document.querySelector(".header__body").classList.toggle("active"),document.querySelector("body").classList.toggle("lock")}),scrollAnimation(),sliderWithIsotope(),initSliders(),window.addEventListener("load",(function(){swiperMode()})),window.addEventListener("resize",(function(){swiperMode()})),modalActions()});let swiper="",swiperSubscribe="",swiperHeadsets="",swiperRules="",init=!1;function swiperMode(){let e=window.matchMedia("(min-width: 0px) and (max-width: 768px)"),r=window.matchMedia("(min-width: 769px) and (max-width: 1024px)"),s=window.matchMedia("(min-width: 1025px)");if(e.matches){if(!init){init=!0,function(){const e=["Супер реалистичный и качественный пространственный 3D звук","Высочайша скорость обработки информации интерфейсом","Самые удобные контроллеры из существующих","Свобода движений: игрок с легкостью может перемещаться на площадке 8 м2.","Реалистичная графика и максимальный угол обзора"];document.querySelectorAll(".power-vr-man-items .dot").forEach((r,s)=>{tippy(`.power-vr-man-items .item:nth-child(${s+1}) .dot`,{content:e[s],arrow:!1})})}(),document.querySelectorAll(".merch__slider, .subscribe__gallery, .rules__slider, .headsets__slider").forEach(e=>e.classList.add("swiper")),document.querySelectorAll(".merch__row, .subscribe__gallery .row, .rules__row, .headsets__row").forEach(e=>e.classList.add("swiper-wrapper")),document.querySelectorAll(".merch .merch__item, .subscribe__gallery .row .item, .rules__row .item, .headsets__item").forEach(e=>e.classList.add("swiper-slide")),swiper=new Swiper(".merch .merch__slider",{direction:"horizontal",navigation:{nextEl:".merch .arrR",prevEl:".merch  .arrL"},breakpoints:{320:{slidesPerView:1,spaceBetween:10}}}),swiperHeadsets=new Swiper(".headsets .headsets__slider",{direction:"horizontal",navigation:{nextEl:".headsets .arrR",prevEl:".headsets .arrL"},breakpoints:{320:{slidesPerView:1,spaceBetween:40}}}),swiperRules=new Swiper(".rules .rules__slider",{direction:"horizontal",navigation:{nextEl:".rules .arrR",prevEl:".rules .arrL"},breakpoints:{320:{slidesPerView:1,spaceBetween:40}}}),swiperSubscribe=new Swiper(".subscribe .subscribe__gallery",{direction:"horizontal",navigation:{nextEl:".subscribe .arrR",prevEl:".subscribe .arrL"},breakpoints:{320:{slidesPerView:1,spaceBetween:10}}})}}else(r.matches||s.matches)&&swiper&&(swiper.destroy(),swiperSubscribe.destroy(),swiperHeadsets.destroy(),swiperRules.destroy(),document.querySelectorAll(".merch__slider, .subscribe__gallery, .rules__slider, .headsets__slider").forEach(e=>e.classList.remove("swiper")),document.querySelectorAll(".merch__row, .subscribe__gallery .row, .rules__row, .headsets__row").forEach(e=>e.classList.remove("swiper-wrapper")),document.querySelectorAll(".merch .merch__item, .subscribe__gallery .row .item, .rules__row .item, .headsets__item").forEach(e=>e.classList.remove("swiper-slide")),init=!1)}function modalActions(){document.querySelectorAll("[data-modal]").forEach(e=>{e.addEventListener("click",e=>{document.querySelector(".modal").classList.add("active")})}),document.querySelector("[data-close]").addEventListener("click",e=>{document.querySelector(".modal").classList.remove("active")})}